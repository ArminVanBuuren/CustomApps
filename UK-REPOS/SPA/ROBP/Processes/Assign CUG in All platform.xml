<BusinessProcessData name="Assign CUG in All platform">
  <businessprocess>
    <scenario>
      <objectlist>
        <object name="ProcessingUnit" class="FORIS.ServiceProvisioning.BPM.BPMProcessingUnit" assembly="FORIS.SPA.BPMProcessingUnit.dll" />
        <object name="AddCUGInFP" class="FORIS.ServiceProvisioning.BPM.BPMProcessingUnit" assembly="FORIS.SPA.BPMProcessingUnit.dll" />
        <object name="AddFRCUGPRIL" class="FORIS.ServiceProvisioning.BPM.BPMProcessingUnit" assembly="FORIS.SPA.BPMProcessingUnit.dll" />
        <object name="AddFRCUGCLOSE" class="FORIS.ServiceProvisioning.BPM.BPMProcessingUnit" assembly="FORIS.SPA.BPMProcessingUnit.dll" />
        <object name="AddVPN" class="FORIS.ServiceProvisioning.BPM.BPMProcessingUnit" assembly="FORIS.SPA.BPMProcessingUnit.dll" />
        <object name="Split" class="FORIS.ScenarioProcessing.CommonUnits.IfMultipleXmlConditionsResolver" assembly="FORIS.SPA.SPF.dll" />
      </objectlist>
      <automat>
        <node name="SplitFixProcess" object="Split">
          <parameterslist>
            <param name="XmlNameInContext" value="$XmlRequest" />
            <param name="IfXmlPath:0" value="ExtendedRequestMessage/AdditionalData//TerminaldeviceClassCode[text()='FX']" />
          </parameterslist>
          <resultlist>
            <result value="0" node="AddCUGInFP" />
            <result value="" node="AddVPN" />
          </resultlist>
        </node>
        <node name="AddVPN" object="AddVPN">
          <parameterslist>
            <param name="operation" value="AddVPN" />
          </parameterslist>
          <resultlist>
            <result value="" node="SplitBlockProcess" />
          </resultlist>
        </node>
        <node name="SplitBlockProcess" object="Split">
          <parameterslist>
            <param name="XmlNameInContext" value="$XmlRequest" />
            <param name="OrXmlPath:0" value="ExtendedRequestMessage/AdditionalData/RegisteredList/FRBLKPAY" />
            <param name="OrXmlPath:1" value="ExtendedRequestMessage/AdditionalData/RegisteredList/FRBLKTIME" />
            <param name="OrXmlPath:2" value="ExtendedRequestMessage/AdditionalData/RegisteredList/CBBLKLOST" />
            <param name="OrXmlPath:3" value="ExtendedRequestMessage/AdditionalData/RegisteredList/FRPARTBL" />
            <param name="OrXmlPath:4" value="ExtendedRequestMessage/AdditionalData/RegisteredList/FRBLKINCTV" />
            <param name="OrXmlPath:5" value="ExtendedRequestMessage/AdditionalData/RegisteredList/FRBLKFIN" />
            <param name="OrXmlPath:6" value="ExtendedRequestMessage/AdditionalData/RegisteredList/FRBLKUSER" />
            <param name="OrXmlPath:7" value="ExtendedRequestMessage/AdditionalData/RegisteredList/FRLIMITCALL" />
            <param name="OrXmlPath:8" value="ExtendedRequestMessage/AdditionalData/RegisteredList/FRBLKPGRACE" />
            <param name="OrXmlPath:9" value="ExtendedRequestMessage/AdditionalData/RegisteredList/FRBLKGRACE" />
            <param name="IfNotXmlPath:0" value="ExtendedRequestMessage/AdditionalData/ProvisionList/CB548" />
          </parameterslist>
          <resultlist>
            <result value="0" node="AddCUGInFP" />
            <result value="" node="AddFRCUGPRIL" />
          </resultlist>
        </node>
        <node name="AddFRCUGPRIL" object="AddFRCUGPRIL">
          <parameterslist>
            <param name="operation" value="AddFRCUGPRIL" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddFRCUGCLOSE" />
          </resultlist>
        </node>
        <node name="AddFRCUGCLOSE" object="AddFRCUGCLOSE">
          <parameterslist>
            <param name="operation" value="AddFRCUGCLOSE" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddCUGInFP" />
          </resultlist>
        </node>
        <node name="AddCUGInFP" object="AddCUGInFP">
          <parameterslist>
            <param name="operation" value="AddCUGInFP" />
          </parameterslist>
          <resultlist>
            <result value="" node="CreateDnOnFC" />
          </resultlist>
        </node>
        <node name="CreateDnOnFC" object="ProcessingUnit">
          <parameterslist>
            <param name="operation" value="CreateDnOnFC" />
          </parameterslist>
          <resultlist>
            <result value="" node="" />
          </resultlist>
        </node>
      </automat>
    </scenario>
  </businessprocess>
</BusinessProcessData>