<BusinessProcessData name="Assign Services" successOnNoOperation="true">
  <businessprocess>
    <scenario>
      <objectlist>
        <object name="BPMProcessingUnit" class="FORIS.ServiceProvisioning.BPM.BPMProcessingUnit" assembly="FORIS.SPA.BPMProcessingUnit.dll" />
        <object name="AssignServiceOnFINPlatform" class="FORIS.ServiceProvisioning.BPM.BPMProcessingUnit" assembly="FORIS.SPA.BPMProcessingUnit.dll" />
        <object name="SplitForVirtualTD" class="FORIS.ScenarioProcessing.CommonUnits.IfMultipleXmlConditionsResolver" assembly="FORIS.SPA.SPF.dll" />
        <object name="DummyForVirtualTD" class="FORIS.ScenarioProcessing.CommonUnits.ConditionalDummyResultCreator" assembly="FORIS.SPA.SPF.dll" />
        <object name="OperationOnSAUnitConditional" class="FORIS.ServiceProvisioning.BPM.BPMProcessingUnitConditional" assembly="FORIS.SPA.BPMProcessingUnit.dll" />
      </objectlist>
      <automat>
        <node name="ActivateServiceOnMID" object="OperationOnSAUnitConditional">
          <parameterslist>
            <param name="SrcXml" value="$XmlRequest" />
            <param name="IfNotXmlPath:0" value="ExtendedRequestMessage/Sender[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='tnf-frs\mobileid']" />
            <param name="IfNotXmlPath:1" value="ExtendedRequestMessage/Sender[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='frs\mobileid']" />
            <param name="operation" value="ActivateServiceOnMID" />
          </parameterslist>
          <resultlist>
            <result value="" node="RegisterSIMOnMID" />
          </resultlist>
        </node>
        <node name="RegisterSIMOnMID" object="OperationOnSAUnitConditional">
          <parameterslist>
            <param name="SrcXml" value="$XmlRequest" />
            <param name="IfNotXmlPath:0" value="ExtendedRequestMessage/Sender[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='tnf-frs\mobileid']" />
            <param name="IfNotXmlPath:1" value="ExtendedRequestMessage/Sender[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='frs\mobileid']" />
            <param name="operation" value="RegisterSIMOnMID" />
          </parameterslist>
          <resultlist>
            <result value="" node="SplitForVirtualTD" />
          </resultlist>
        </node>
        <node name="SplitForVirtualTD" object="SplitForVirtualTD">
          <parameterslist>
            <param name="XmlNameInContext" value="$XmlRequest" />
            <param name="IfXmlPath:0" value="//AdditionalData/DeviceInfo/TerminalDeviceType[text()='virtual']" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddHLRBasicServices" />
            <result value="0" node="DummyForVirtualTD" />
          </resultlist>
        </node>
        <node name="DummyForVirtualTD" object="DummyForVirtualTD">
          <parameterslist>
            <param name="DetailedResult" value="0" />
            <param name="DetailedResultDescription" value="SUCCESS" />
          </parameterslist>
          <resultlist>
            <result value="" node="" />
          </resultlist>
        </node>
        <node name="AddHLRBasicServices" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AddHLRBasicServices" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddHLRSupplementaryServices" />
          </resultlist>
        </node>
        <node name="AddHLRSupplementaryServices" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AddHLRSupplementaryServices" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddOCSI_TCSI_Services" />
          </resultlist>
        </node>
        <node name="AddOCSI_TCSI_Services" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AddOCSI_TCSI_Services" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddFRVMonHLR" />
          </resultlist>
        </node>
        <node name="AddFRVMonHLR" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AddFRVMonHLR" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddNationalRoaming" />
          </resultlist>
        </node>
        <node name="AddNationalRoaming" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AddNationalRoaming" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddMCAonCCS" />
          </resultlist>
        </node>
        <node name="AddMCAonCCS" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AddMCAonCCS" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddVMonCCS" />
          </resultlist>
        </node>
        <node name="AddVMonCCS" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AddVMonCCS" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddFRGOOD" />
          </resultlist>
        </node>
        <node name="AddFRGOOD" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AddFRGOOD" />
          </parameterslist>
          <resultlist>
            <result value="" node="AssignServiceOnGSR" />
          </resultlist>
        </node>
        <node name="AssignServiceOnGSR" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AssignServiceOnGSR" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddDPIService" />
          </resultlist>
        </node>
        <node name="AddDPIService" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AddDPIService" />
          </parameterslist>
          <resultlist>
            <result value="" node="AddNewToSOnGSR" />
          </resultlist>
        </node>
        <node name="AddNewToSOnGSR" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AddNewToSOnGSR" />
          </parameterslist>
          <resultlist>
            <result value="" node="RemoveLinkedUltraService" />
          </resultlist>
        </node>
        <node name="RemoveLinkedUltraService" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="RemoveLinkedUltraService" />
          </parameterslist>
          <resultlist>
            <result value="" node="AssignServiceOnFINPlatform" />
          </resultlist>
        </node>
        <node name="AssignServiceOnFINPlatform" object="BPMProcessingUnit">
          <parameterslist>
            <param name="operation" value="AssignServiceOnFINPlatform" />
          </parameterslist>
          <resultlist>
            <result value="" node="" />
          </resultlist>
        </node>
      </automat>
    </scenario>
  </businessprocess>
</BusinessProcessData>