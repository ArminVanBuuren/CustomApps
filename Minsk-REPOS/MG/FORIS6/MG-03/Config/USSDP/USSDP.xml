
  <!-- USSDP -->
  <!--    MTS_USSDP_GetServiceCost             -->
  <template procedureName="MTS_USSDP_GetServiceCost" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetServiceCost" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(MTSUSSDPGetServiceCostCustomer,${customer})}
        @{store(MTSUSSDPGetServiceCostServicecode,${servicecode})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="MTSGetServiceCost">
      <set item="iparam:customer" value="${MTSUSSDPGetServiceCostCustomer}" />
      <set item="iparam:servicecode" value="${MTSUSSDPGetServiceCostServicecode}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="sourceid" />
      <param name="sec_code" />
      <param name="customer" />
      <param name="servicecode" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="MTSGetServiceCost" handler="DBCON_01">
    <receiveTemplate>
      <Message type="retrievecustomerdata" initiator="soapcon" id="@{newGuid}" session_id="@{newGuid}">
        <Item procedureName="billing.mg_pack.get_servicecost">
          <Attribute name="i_msisdn" type="STRING" value="${customer}" />
          <Attribute name="i_servicecode" type="STRING" value="${servicecode}" />
          <Attribute name="o_srv_code_add" type="STRING" />
          <Attribute name="o_srv_cost_add" type="STRING" />
          <Attribute name="o_srv_code_per" type="STRING" />
          <Attribute name="o_srv_cost_per" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:ServiceCodeAdd" condition="//Item/@dbresult='0'" value="${o_srv_code_add}" />
      <set item="oparam:ServiceCodeAdd" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса." />
      <set item="oparam:ServiceCostAdd" condition="//Item/@dbresult='0'" value="${o_srv_cost_add}" />
      <set item="oparam:ServiceCostAdd" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса." />
      <set item="oparam:ServiceCodePeriod" condition="//Item/@dbresult='0'" value="${o_srv_code_per}" />
      <set item="oparam:ServiceCodePeriod" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса." />
      <set item="oparam:ServiceCostPeriod" condition="//Item/@dbresult='0'" value="${o_srv_cost_per}" />
      <set item="oparam:ServiceCostPeriod" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса." />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="servicecode" />
    </input>
    <output>
      <param name="ServiceCodeAdd" />
      <param name="ServiceCostAdd" />
      <param name="ServiceCodePeriod" />
      <param name="ServiceCostPeriod" />
    </output>
  </template>
  <!--    MTS_USSDP_AddBonusFTTX              -->
  <template procedureName="MTS_USSDP_AddBonusFTTX" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_AddBonusFTTX" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(AddBonusFTTXcustomer,${customer})}
        @{store(AddBonusFTTXservice,${service})}
        @{store(AddBonusFTTXcustomerfttx,${customer_fttx})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDP_AddBonusFTTX">
      <set item="iparam:customer" value="${AddBonusFTTXcustomer}" />
      <set item="iparam:service" value="${AddBonusFTTXservice}" />
      <set item="iparam:customer_fttx" value="${AddBonusFTTXcustomerfttx}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
      <param name="service" />
      <param name="customer_fttx" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDP_AddBonusFTTX" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{newGuid}">
        <Item procedureName="billing.lll_dob_bonus_fttx">
          <Attribute name="p_msisdn" type="STRING" value="${customer}" />
          <Attribute name="p_srv" type="STRING" value="${service}" />
          <Attribute name="p_fttx_num" type="STRING" value="${customer_fttx}" />
          <Attribute name="dbrez" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:o_dbrez" condition="//Item/@dbresult='0'" value="${dbrez}" />
      <set item="oparam:o_dbrez" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="service" />
      <param name="customer_fttx" />
    </input>
    <output>
      <param name="o_dbrez" />
    </output>
  </template>
  <!--    MTS_USSDP_GetTariffPlan              -->
  <template procedureName="MTS_USSDP_GetTariffPlan" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetTariffPlan" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(ussdp_gettpcustomer,${customer})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetTariffPlan">
      <set item="iparam:customer" value="${ussdp_gettpcustomer}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetTariffPlan" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{newGuid}">
        <Item procedureName="billing.USSDPortal.get_tp_id">
          <Attribute name="p_msisdn" type="STRING" value="${customer}" />
          <Attribute name="o_tp_name" type="STRING" />
          <Attribute name="o_tp_id" type="STRING" />
          <Attribute name="o_lng_id" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:tp_name" condition="//Item/@dbresult='0'" value="${o_tp_name}" />
      <set item="oparam:tp_name" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
      <set item="oparam:tp_id" condition="//Item/@dbresult='0'" value="${o_tp_id}" />
      <set item="oparam:tp_id" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
      <set item="oparam:lng_id" condition="//Item/@dbresult='0'" value="${o_lng_id}" />
      <set item="oparam:lng_id" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
    </input>
    <output>
      <param name="tp_name" />
      <param name="tp_id" />
      <param name="lng_id" />
    </output>
  </template>
  <!--    MTS_USSDP_GetPANbyPhone              -->
  <template procedureName="MTS_USSDP_GetPANbyPhone" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetPANbyPhone" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(ussdp_GetPANbyPhone,${customer})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetPANbyPhone">
      <set item="iparam:customer" value="${ussdp_GetPANbyPhone}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetPANbyPhone" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{newGuid}">
        <Item procedureName="billing.ussdportal.getpanbyphone">
          <Attribute name="mobnum" type="STRING" value="${customer}" />
          <Attribute name="res" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:result" condition="//Item/@dbresult='0'" value="${res}" />
      <set item="oparam:result" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
    </input>
    <output>
      <param name="result" />
    </output>
  </template>
  <!--    MTS_USSDP_GetBonusBalance              -->
  <template procedureName="MTS_USSDP_GetBonusBalance" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetBonusBalance" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDP_GetBonusBalancePhone,${customer})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetBonusBalance">
      <set item="iparam:customer" value="${USSDP_GetBonusBalancePhone}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetBonusBalance" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{newGuid}">
        <Item procedureName="billing.bonus_ussd_p.get_bonus_balance">
          <Attribute name="p_msisdn" type="STRING" value="${customer}" />
          <Attribute name="msg" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:result" condition="//Item/@dbresult='0'" value="${msg}" />
      <set item="oparam:result" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
    </input>
    <output>
      <param name="result" />
    </output>
  </template>
  <!--    MTS_USSDP_GetBalance_Fullinfo              -->
  <template procedureName="MTS_USSDP_GetBalance_Fullinfo" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetBalance_Fullinfo" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDP_GetBalance_FullinfoPhone,${customer})}
        @{store(USSDP_GetBalance_FullinfoAccount,${account})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetBalanceFullinfo">
      <set item="iparam:customer" value="${USSDP_GetBalance_FullinfoPhone}" />
      <set item="iparam:account" value="${USSDP_GetBalance_FullinfoAccount}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="account" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetBalanceFullinfo" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{newGuid}">
        <Item procedureName="billing.ussdportal.getbalance_fullinfo">
          <Attribute name="tel" type="STRING" value="${customer}" />
          <Attribute name="pan" type="STRING" value="${account}" />
          <Attribute name="bal_i" type="STRING" />
          <Attribute name="calc_metod" type="STRING" />
          <Attribute name="cred_limit" type="STRING" />
          <Attribute name="unbl_limit" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:balance" condition="//Item/@dbresult='0'" value="${bal_i}" />
      <set item="oparam:balance" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
      <set item="oparam:calc_metod" condition="//Item/@dbresult='0'" value="${calc_metod}" />
      <set item="oparam:calc_metod" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
      <set item="oparam:cred_limit" condition="//Item/@dbresult='0'" value="${cred_limit}" />
      <set item="oparam:cred_limit" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
      <set item="oparam:unbl_limit" condition="//Item/@dbresult='0'" value="${unbl_limit}" />
      <set item="oparam:unbl_limit" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="account" />
    </input>
    <output>
      <param name="balance" />
      <param name="calc_metod" />
      <param name="cred_limit" />
      <param name="unbl_limit" />
    </output>
  </template>
  <!--    MTS_USSDP_GetPassword              -->
  <template procedureName="MTS_USSDP_GetPassword" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetPassword" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(ussdp_USSDPGetPasswordPhone,${customer})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetPassword">
      <set item="iparam:customer" value="${ussdp_USSDPGetPasswordPhone}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetPassword" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{newGuid}">
        <Item procedureName="billing.ussdportal.getpassword">
          <Attribute name="phonenum" type="STRING" value="${customer}" />
          <Attribute name="res" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:result" condition="//Item/@dbresult='0'" value="${res}" />
      <set item="oparam:result" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
    </input>
    <output>
      <param name="result" />
    </output>
  </template>
  <!--    MTS_USSDP_AddBonService             -->
  <template procedureName="MTS_USSDP_AddBonService" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_AddBonService" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDPAddBonServicecustomer,${customer})}
        @{store(USSDPAddBonServiceservicecode,${servicecode})}
        @{store(USSDPAddBonServicesourceid,${sourceid})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPAddBonService">
      <set item="iparam:customer" value="${USSDPAddBonServicecustomer}" />
      <set item="iparam:servicecode" value="${USSDPAddBonServiceservicecode}" />
      <set item="iparam:sourceid" value="${USSDPAddBonServicesourceid}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
      <param name="servicecode" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPAddBonService" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{newGuid}">
        <Item procedureName="billing.bonus_ussd_p.add_srv_req">
          <Attribute name="p_msisdn" type="STRING" value="${customer}" />
          <Attribute name="srv_del_str" type="STRING" value="${servicecode}" />
          <Attribute name="source" type="STRING" value="${sourceid}" />
          <Attribute name="dbresult" type="STRING" />
          <Attribute name="reply" type="STRING" />
          <Attribute name="ret_code" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:dbresult" condition="//Item/@dbresult='0'" value="${ret_code}" />
      <set item="oparam:dbresult" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
      <set item="oparam:result" condition="//Item/@dbresult='0'" value="${reply}" />
      <set item="oparam:result" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="servicecode" />
    </input>
    <output>
      <param name="dbresult" />
      <param name="result" />
    </output>
  </template>
  <!--    MTS_USSDP_AddBonService             -->
  <template procedureName="MTS_USSDP_GetCharges" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetCharges" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDPGetChargescustomer,${customer})}
        @{store(USSDPGetChargesaccount,${account})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetCharges">
      <set item="iparam:customer" value="${USSDPGetChargescustomer}" />
      <set item="iparam:account" value="${USSDPGetChargesaccount}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
      <param name="account" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetCharges" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{newGuid}">
        <Item procedureName="billing.ussdportal.getcharges">
          <Attribute name="customer" type="STRING" value="${customer}" />
          <Attribute name="account" type="STRING" value="${account}" />
          <Attribute name="res" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:result" condition="//Item/@dbresult='0'" value="${res}" />
      <set item="oparam:result" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="account" />
    </input>
    <output>
      <param name="result" />
    </output>
  </template>
  <!--    MTS_USSDP_GetServices             -->
  <template procedureName="MTS_USSDP_GetServices" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetServices" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDPGetServicescustomer,${customer})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetServices">
      <set item="iparam:customer" value="${USSDPGetServicescustomer}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetServices" handler="DBCON_01">
    <receiveTemplate>
      <Message type="retrievecustomerdata" initiator="soapcon" id="@{newGuid}" session_id="@{newGuid}">
        <Item procedureName="billing.USSDPortal.Get_Services">
          <Attribute name="customer" type="STRING" value="${customer}" />
          <Attribute name="Service" type="CURSOR" />
          <Attribute name="outparam1" type="STRING" />
          <Attribute name="outparam2" type="INT" />
          <Attribute name="time_request" type="out:DATETIME" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:Service" value="#{NodesetToString(nodeset('${Service}'))}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
    </input>
    <output>
      <param name="Service" />
    </output>
  </template>
  <!--    MTS_USSDP_GetMSISDNbyIMSI              -->
  <template procedureName="MTS_USSDP_GetMSISDNbyIMSI" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetMSISDNbyIMSI" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDP_GetMSISDNIMSI,${imsi})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetMSISDNbyIMSI">
      <set item="iparam:imsi" value="${USSDP_GetMSISDNIMSI}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="imsi" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetMSISDNbyIMSI" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{newGuid}">
        <Item procedureName="billing.ussdportal.GetMSISDNbyIMSI">
          <Attribute name="imsi_p" type="STRING" value="${imsi}" />
          <Attribute name="res" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:result" condition="//Item/@dbresult='0'" value="${res}" />
      <set item="oparam:result" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="imsi" />
    </input>
    <output>
      <param name="result" />
    </output>
  </template>
  <!--    MTS_USSDP_GetAviableTP2Change             -->
  <template procedureName="MTS_USSDP_GetAviableTP2Change" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetAviableTP2Change" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDPGetAviableTP2Changecustomer,${customer})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetAviableTP2Change">
      <set item="iparam:customer" value="${USSDPGetAviableTP2Changecustomer}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetAviableTP2Change" handler="DBCON_01">
    <receiveTemplate>
      <Message type="retrievecustomerdata" initiator="soapcon" id="@{newGuid}" session_id="@{newGuid}">
        <Item procedureName="billing.USSDPortal.GetAviableTP2Change">
          <Attribute name="customer" type="STRING" value="${customer}" />
          <Attribute name="Tariff" type="CURSOR" />
          <Attribute name="outparam1" type="STRING" />
          <Attribute name="outparam2" type="INT" />
          <Attribute name="time_request" type="out:DATETIME" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:Tariffs" value="#{NodesetToString(nodeset('${Tariff}'))}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
    </input>
    <output>
      <param name="Tariffs" />
    </output>
  </template>
  <!--    MTS_USSDP_GetBonusServices             -->
  <template procedureName="MTS_USSDP_GetBonusServices" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetBonusServices" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDPGetBonusServicescustomer,${customer})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetBonusServices">
      <set item="iparam:customer" value="${USSDPGetBonusServicescustomer}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetBonusServices" handler="DBCON_01">
    <receiveTemplate>
      <Message type="retrievecustomerdata" initiator="soapcon" id="@{newGuid}" session_id="@{newGuid}">
        <Item procedureName="billing.USSDPortal.GetBonusServices">
          <Attribute name="customer" type="STRING" value="${customer}" />
          <Attribute name="BonusService" type="CURSOR" />
          <Attribute name="outparam1" type="STRING" />
          <Attribute name="outparam2" type="INT" />
          <Attribute name="time_request" type="out:DATETIME" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:BonusServices" value="#{NodesetToString(nodeset('${BonusService}'))}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
    </input>
    <output>
      <param name="BonusServices" />
    </output>
  </template>
  <!--    MTS_USSDP_GetBonusServices             -->
  <template procedureName="MTS_USSDP_GetCounters" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetCounters" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDPGetCounterscustomer,${customer})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetCounters">
      <set item="iparam:customer" value="${USSDPGetCounterscustomer}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetCounters" handler="DBCON_01">
    <receiveTemplate>
      <Message type="retrievecustomerdata" initiator="soapcon" id="@{newGuid}" session_id="@{newGuid}">
        <Item procedureName="billing.USSDPortal.GetCounters">
          <Attribute name="customer" type="STRING" value="${customer}" />
          <Attribute name="Counter" type="CURSOR" />
          <Attribute name="outparam1" type="STRING" />
          <Attribute name="outparam2" type="INT" />
          <Attribute name="time_request" type="out:DATETIME" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:Counters" value="#{NodesetToString(nodeset('${Counter}'))}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
    </input>
    <output>
      <param name="Counters" />
    </output>
  </template>
  <!--    MTS_USSDP_GetPayments             -->
  <template procedureName="MTS_USSDP_GetPayments" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetPayments" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDPGetPaymentsaccount,${account})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetPayments">
      <set item="iparam:account" value="${USSDPGetPaymentsaccount}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="account" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetPayments" handler="DBCON_01">
    <receiveTemplate>
      <Message type="retrievecustomerdata" initiator="soapcon" id="@{newGuid}" session_id="@{newGuid}">
        <Item procedureName="billing.USSDPortal.GetPayments">
          <Attribute name="account" type="STRING" value="${account}" />
          <Attribute name="Payment" type="CURSOR" />
          <Attribute name="outparam1" type="STRING" />
          <Attribute name="outparam2" type="INT" />
          <Attribute name="time_request" type="out:DATETIME" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:Payments" value="#{NodesetToString(nodeset('${Payment}'))}" />
    </deliveryTemplate>
    <input>
      <param name="account" />
    </input>
    <output>
      <param name="Payments" />
    </output>
  </template>
  <!--    MTS_USSDP_GetFavoriteNums             -->
  <template procedureName="MTS_USSDP_GetFavoriteNums" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetFavoriteNums" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDPGetFavoriteNumscustomer,${customer})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetFavoriteNums">
      <set item="iparam:customer" value="${USSDPGetFavoriteNumscustomer}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetFavoriteNums" handler="DBCON_01">
    <receiveTemplate>
      <Message type="retrievecustomerdata" initiator="soapcon" id="@{newGuid}" session_id="@{newGuid}">
        <Item procedureName="billing.USSDPortal.GetFavoriteNums">
          <Attribute name="customer" type="STRING" value="${customer}" />
          <Attribute name="FavoriteNumber" type="CURSOR" />
          <Attribute name="outparam1" type="STRING" />
          <Attribute name="outparam2" type="INT" />
          <Attribute name="time_request" type="out:DATETIME" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:FavoriteNumbers" value="#{NodesetToString(nodeset('${FavoriteNumber}'))}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
    </input>
    <output>
      <param name="FavoriteNumbers" />
    </output>
  </template>
  <!--    MTS_USSDP_CheckOnlinerCodes             -->
  <template procedureName="MTS_USSDP_CheckOnlinerCodes" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_CheckOnlinerCodes" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDPCheckOnlinerCodesCode,${code})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPCheckOnlinerCodes">
      <set item="iparam:code" value="${USSDPCheckOnlinerCodesCode}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="sourceid" />
      <param name="sec_code" />
      <param name="code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPCheckOnlinerCodes" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{newGuid}">
        <Item procedureName="billing.ussdportal.CheckOnlinerCodes">
          <Attribute name="i_code" type="STRING" value="${code}" />
          <Attribute name="o_res" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:result" condition="//Item/@dbresult='0'" value="${o_res}" />
      <set item="oparam:result" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="code" />
    </input>
    <output>
      <param name="result" />
    </output>
  </template>
  <!--    MTS_USSDP_UdpateOnlinerCodes             -->
  <template procedureName="MTS_USSDP_UdpateOnlinerCodes" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_UdpateOnlinerCodes" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDPCheckOnlinerCodesCode,${code})}
        @{store(USSDPCheckOnlinerCodesStatus,${status})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPUdpateOnlinerCodes">
      <set item="iparam:code" value="${USSDPCheckOnlinerCodesCode}" />
      <set item="iparam:status" value="${USSDPCheckOnlinerCodesStatus}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="sourceid" />
      <param name="sec_code" />
      <param name="code" />
      <param name="status" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPUdpateOnlinerCodes" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{newGuid}">
        <Item procedureName="billing.ussdportal.UdpateOnlinerCodes">
          <Attribute name="i_code" type="STRING" value="${code}" />
          <Attribute name="i_status" type="STRING" value="${status}" />
          <Attribute name="o_res" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:result" condition="//Item/@dbresult='0'" value="${o_res}" />
      <set item="oparam:result" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="code" />
      <param name="status" />
    </input>
    <output>
      <param name="result" />
    </output>
  </template>
  <!--    MTS_USSDP_GetServiceInfo             -->
  <template procedureName="MTS_USSDP_GetServiceInfo" handler="DBCON_01">
    <receiveTemplate>
      <Message type="serviceorder" initiator="soapcon" id="${guid}" session_id="@{setSessionId(@{newGuid})}">
        <Item procedureName="BILLING.mg_auth">
          <Attribute name="i_source" type="STRING" value="${sourceid}" />
          <Attribute name="i_code" type="STRING" value="${sec_code}" />
          <Attribute name="i_method" type="STRING" value="MTS_USSDP_GetServiceInfo" />
          <Attribute name="o_result" type="STRING" />
          <Attribute name="o_message" type="STRING" />
        </Item>
        @{store(USSDPGetServiceInfocustomer,${customer})}
        @{store(USSDPGetServiceInfoservicecode,${servicecode})}
      </Message>
    </receiveTemplate>
    <deliveryTemplate conditionEx="#{'#{/Message/Item/Attribute[@name='o_result']/@value}'='0'}" call="USSDPGetServiceInfo">
      <set item="iparam:customer" value="${USSDPGetServiceInfocustomer}" />
      <set item="iparam:servicecode" value="${USSDPGetServiceInfoservicecode}" />
      <set conditionEx="0@{freeSession}" />
    </deliveryTemplate>
    <deliveryTemplate>
      <set item="oparam:result_code" value="${o_result}" />
      <set item="oparam:result_msg" value="${o_message}" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="servicecode" />
      <param name="sourceid" />
      <param name="sec_code" />
    </input>
    <output>
      <param name="result_code" />
      <param name="result_msg" />
    </output>
  </template>
  <template procedureName="USSDPGetServiceInfo" handler="DBCON_01">
    <receiveTemplate>
      <Message type="retrievecustomerdata" initiator="soapcon" id="@{newGuid}" session_id="@{newGuid}">
        <Item procedureName="billing.USSDPortal.GetServiceInfo">
          <Attribute name="i_customer" type="STRING" value="${customer}" />
          <Attribute name="i_servicecode" type="STRING" value="${servicecode}" />
          <Attribute name="SERVICE_CODE" type="STRING" />
          <Attribute name="SERVICE_NAME" type="STRING" />
          <Attribute name="TARIFF" type="STRING" />
          <Attribute name="PERIOD" type="STRING" />
        </Item>
      </Message>
    </receiveTemplate>
    <deliveryTemplate>
      <set item="oparam:ServiceCode" condition="//Item/@dbresult='0'" value="${SERVICE_CODE}" />
      <set item="oparam:ServiceCode" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
      <set item="oparam:ServiceName" condition="//Item/@dbresult='0'" value="${SERVICE_NAME}" />
      <set item="oparam:ServiceName" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
      <set item="oparam:Tariff" condition="//Item/@dbresult='0'" value="${TARIFF}" />
      <set item="oparam:Tariff" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
      <set item="oparam:Period" condition="//Item/@dbresult='0'" value="${PERIOD}" />
      <set item="oparam:Period" condition="//Item/@dbresult!='0'" value="Ошибка при выполнении запроса" />
    </deliveryTemplate>
    <input>
      <param name="customer" />
      <param name="servicecode" />
    </input>
    <output>
      <param name="ServiceCode" />
      <param name="ServiceName" />
      <param name="Tariff" />
      <param name="Period" />
    </output>
  </template>
