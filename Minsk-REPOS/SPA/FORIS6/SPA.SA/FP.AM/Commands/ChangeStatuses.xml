<Command Name="ChangeStatuses" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Description>Change TD and PA statuses</Description>
  <Author Name="Oleg Safonov" Date="2012-02-11+12:35" />
  <Properties GenerationType="DataSetXml" />
  <Request>
    <RequestTemplate>
      <![CDATA[<DataSet Name="IN_STATUSES_DATA" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Attributes>
    <Attribute Name="Protocol" Type="System.String" Value="Remoting"/>
    <Attribute Name="Label" Type="System.String" Value="ChangeLifetimeStatuses"/>
    <Attribute Name="CLIENT_ID" Type="System.String" Value="SPA"/>
    <Attribute Name="REQUEST_ID" Type="System.String" Value="reversecut(##org.id##,4)-##uid##"/>
    <Attribute Name="IN_STATUSES_DATA" Type="System.Data.DataSet" Value=""/>
  </Attributes>
  <DataTable Name="REQUEST_DATA">
    <Columns>
      <Column Name="REQUEST_ID" Type="System.String"/>
    </Columns>
    <Rows>
      <Row REQUEST_ID="reversecut(##org.id##,4)-##uid##"/>
    </Rows>
  </DataTable>
  <DataTable Name="TD_STATUSES">
    <Columns>
      <Column Name="TDC_ID" Type="System.Int64"/>
      <Column Name="TD_STATUS" Type="System.Int32"/>
      <Column Name="TD_BLOCK_STATUS" Type="System.Int32"/>
    </Columns>
    <Rows>
      <Row TDC_ID="##TerminalDeviceID##" TD_STATUS="##TdStatus##" TD_BLOCK_STATUS="##TD_BLOCK_STATUS##"/>
    </Rows>
  </DataTable>
  <DataTable Name="PA_STATUSES">
    <Columns>
      <Column Name="PA_ID" Type="System.Int64"/>
      <Column Name="PA_STATUS" Type="System.Int32"/>
      <Column Name="PA_BALANCE_STATUS" Type="System.Int32"/>
	    <Column Name="PA_BLOCK_STATUS" Type="System.Int32"/>
    </Columns>
    <Rows>
      <Row PA_ID="##PersonalAccount##" PA_STATUS="##PaStatus##" PA_BALANCE_STATUS="##PA_BALANCE_STATUS##" PA_BLOCK_STATUS="##PA_BLOCK_STATUS##"/>
    </Rows>
  </DataTable>
</DataSet>]]>
    </RequestTemplate>
    <EmulationPrintoutTemplate>
      <![CDATA[]]>
    </EmulationPrintoutTemplate>
    <Item Name="org.id" Type="Wellknown" />
    <Item Name="uid" Type="Wellknown" />
    <Item Name="TerminalDeviceID" Type="Wellknown" />
    <Item Name="PersonalAccount" Type="Wellknown" />
    <Item Name="TdStatus" Type="LocalParameter" />
    <Item Name="PaStatus" Type="LocalParameter" />
    <Item Name="TD_BLOCK_STATUS" Type="LocalParameter" />
    <Item Name="PA_BALANCE_STATUS" Type="LocalParameter" />
    <Item Name="PA_BLOCK_STATUS" Type="LocalParameter" />
  </Request>
  <ParametersList>
    <Parameter Name="TdStatus">
      <Source Path="//AdditionalData/TdStatus/Status" />
    </Parameter>
    <Parameter Name="TD_BLOCK_STATUS">
      <Source Path="//AdditionalData/TdStatus/BlockStatus" />
    </Parameter>
    <Parameter Name="PaStatus">
      <Source Path="//AdditionalData/PaStatus/Status" />
    </Parameter>
    <Parameter Name="PA_BALANCE_STATUS">
      <Source Path="//AdditionalData/PaStatus/BalanceStatus" />
    </Parameter>
    <Parameter Name="PA_BLOCK_STATUS">
      <Source Path="//AdditionalData/PaStatus/BlockStatus" />
    </Parameter>
  </ParametersList>
  <ErrorsList CodePage="ascii" />
</Command>