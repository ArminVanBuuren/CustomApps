<?xml version="1.0" encoding="UTF-8"?>
<Command Name="RemoveService" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<Description>RemoveService</Description>
	<Author Name="Oleg Safonov" Date="2011-02-08+12:35"/>
  <Properties GenerationType="DataSetXml" />
  <Request>
    <RequestTemplate>
      <![CDATA[<DataSet Name="UpdateTDCDataSet" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Attributes>
    <Attribute Name="Label" Type="System.String" Value="UpdateTDC;{10};SPA"/>
    <Attribute Name="Protocol" Type="System.String" Value="Msmq"/>
  </Attributes>
  <DataTable Name="UpdateTDCDataTable">
    <Columns>
      <Column Name="REQUEST_ID" Type="System.String"/>
      <Column Name="TERMINAL_DEVICE_CONTRACT_ID" Type="System.Int64"/>
      <Column Name="PERSONAL_ACCOUNT_ID" Type="System.Int64"/>
      <Column Name="MSISDN" Type="System.String"/>
      <Column Name="CLIENT_ID" Type="System.String"/>
    </Columns>
    <Rows>
      <Row REQUEST_ID="reversecut({0},4)-{11}" TERMINAL_DEVICE_CONTRACT_ID="{1}" PERSONAL_ACCOUNT_ID="{2}" MSISDN="{3}" CLIENT_ID="SPA"/>
    </Rows>
  </DataTable>
  <DataTable Name="ServiceCodeDataTable">
    <Columns>
      <Column Name="TERMINAL_DEVICE_CONTRACT_ID" Type="System.Int64"/>
      <Column Name="SERVICE_CODE" Type="System.String"/>
      <Column Name="DATE_FROM" Type="System.DateTime"/>
      <Column Name="COUNTER_COEFFICIENT" Type="System.Decimal"/>
      <Column Name="DISCOUNT_TYPE" Type="System.Int32"/>
      <Column Name="DISCOUNT_VALUE" Type="System.Decimal"/>
      <Column Name="SERVICE_ACTION" Type="System.String"/>
    </Columns>
    <Rows>
      <Row TERMINAL_DEVICE_CONTRACT_ID="{1}" SERVICE_CODE="{4}" {5} {7} {8} {9} SERVICE_ACTION="D" />
    </Rows>
  </DataTable>
</DataSet>]]>
    </RequestTemplate>
    <EmulationPrintoutTemplate><![CDATA[]]></EmulationPrintoutTemplate>
    <Item Name="org.id" Type="Wellknown"/>
		<Item Name="TerminalDeviceID" Type="Wellknown"/>
		<Item Name="PersonalAccount" Type="Wellknown"/>
		<Item Name="msisdn" Type="Wellknown"/>
		<Item Name="SERVICE_CODE" Type="LocalParameter"/>
		<Item Name="DATE_FROM" Type="LocalParameter"/>
		<Item Name="id" Type="Wellknown"/>
		<Item Name="COUNTER_COEFFICIENT" Type="LocalParameter"/>
		<Item Name="DISCOUNT_TYPE" Type="LocalParameter"/>
		<Item Name="DISCOUNT_VALUE" Type="LocalParameter"/>
		<Item Name="datetime" Type="Wellknown"/>
    <Item Name="uid" Type="Wellknown" />
	</Request>
	<VariablesList>
		<Variable Name="ASYNC_REQUEST_ID" Template="reversecut({0},4)-{11}"/>
	</VariablesList>
	<ParametersList>
		<Parameter Name="SERVICE_CODE">
			<Source Path="ExtendedRequestMessage/AdditionalData/WithdrawalList/ServiceList//SERVICE_CODE"/>
		</Parameter>
		<Parameter Name="DATE_FROM">
			<Source Path="ExtendedRequestMessage/AdditionalData/WithdrawalList/ServiceList//DateFrom[string-length(.) > 0]" AbsenceValue="" PostFormat="DATE_FROM=&quot;{0}&quot;"/>
		</Parameter>
		<Parameter Name="COUNTER_COEFFICIENT">
			<Source Path="ExtendedRequestMessage/AdditionalData/WithdrawalList/ServiceList//CounterCoefficient[string-length(.) > 0]" AbsenceValue="" PostFormat="COUNTER_COEFFICIENT=&quot;{0}&quot;"/>
		</Parameter>
		<Parameter Name="DISCOUNT_TYPE">
			<Source Path="ExtendedRequestMessage/AdditionalData/WithdrawalList/ServiceList//DiscountType[string-length(.) > 0]" AbsenceValue="" PostFormat="DISCOUNT_TYPE=&quot;{0}&quot;"/>
		</Parameter>
		<Parameter Name="DISCOUNT_VALUE">
			<Source Path="ExtendedRequestMessage/AdditionalData/WithdrawalList/ServiceList//DiscountValue[string-length(.) > 0]" AbsenceValue="" PostFormat="DISCOUNT_VALUE=&quot;{0}&quot;"/>
		</Parameter>
	</ParametersList>
  <ErrorsList CodePage="ascii">
    <Error Name="-151014" Value="SUCCESS"/>
    <Error Name="-151003" Value="SUCCESS"/>
  </ErrorsList>
</Command>
