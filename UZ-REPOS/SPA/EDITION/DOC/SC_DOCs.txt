https://wiki.mtsit.com/pages/viewpage.action?pageId=64851469 модель управления услугами

при настройке СК следует руководствоваться документами
https://wiki.mtsit.com/pages/viewpage.action?pageId=63115770

https://wiki.mtsit.com/pages/viewpage.action?pageId=65537318
https://wiki.mtsit.com/pages/viewpage.action?pageId=87687642

http://main-foris/SPA.Monitor/Docs/Doc?docName=Настройка%20и%20использование%20функционала&searchString=Проверка%20конфигурации%20каталога%20услуг
https://wiki.mtsit.com/pages/viewpage.action?pageId=63115770#id-%D0%9C%D0%B5%D1%82%D0%BE%D0%B4%D0%B8%D0%BA%D0%B0%D0%BC%D0%B8%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D0%B8%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BA%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8FVAS-%D0%BF%D0%BB%D0%B0%D1%82%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D0%BC%D0%B8%D0%BD%D0%B0SC-%D0%9A%D0%B0%D0%BA%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%B0%D1%82%D1%8B%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%D0%B0%D0%B1%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D0%B0(%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5ManagedObject)?

select t.spa_service_code, t.global_service_code, TRANSLATE (t.service_name, 'x'||CHR(10)||CHR(13), 'x') service_name, TRANSLATE (t.service_full_name, 'x'||CHR(10)||CHR(13), 'x') service_full_name, TRANSLATE (t.service_full_name2, 'x'||CHR(10)||CHR(13), 'x') service_full_name2,  TRANSLATE (t.description, 'x'||CHR(10)||CHR(13), 'x') description, t.service_code, TRANSLATE (t.service_name2, 'x'||CHR(10)||CHR(13), 'x') service_name2,  t.external_code, t.external_code2 from service t
Then replace: \"(.*?)\"(\,|) To: $1	


Важно:
Официальный документ лежит по ссылке: Перевод платформ на SC
1. Если после миграции настроек в сценариях, словарях, командах остаются коды услуг в каком-либо виде (названия файлов, названия сущностей, проверки XML-путей и т.п.), то это признак неправильной модели управления услугами и неправильной конфигурации. Надо переделывать. 
2. Именуй RFSы, сценарии и прочее правильно! Не знаешь как, спроси соседа или посмотри как сделано в большинстве случаев. Не надо самодеятельности. 
3. В командах для всех служб SPA.SA для указания параметров использовать символы-ограничители ##
4. В командах для всех служб SPA.SA для команды в XML-формате использовать только CDATA, т.е. не должно быть записей вида &lt;soapenv:Header/&gt;
5. В сценариях служб SPA.SA не должно быть опечаток и описок. В частности самой знаменитой и долгоживущей SingleSubscirverRequestDequeuer. 


1. при настройке руководствоваться методикой описанной в https://wiki.mtsit.com/pages/viewpage.action?pageId=63115770
2. по результату работы должно получиться два документа 
- модель услуг 
- документ по переводу на SC с анализом текущих настроек и необходимых настроек для SC 
их обязательно прикладывать к таску вместе с настройками (примеры можно посмотреть тут 1301284 или в других дочерних у 1303650)
3. все настройки обязательно тестировать всеми типами заявок которые обрабатывает платформа, шаблоны заявок приложить к таску
4. к таску приложить также оригинальные (старые) настройки, имеющиеся документы\приказы по настройке провиженинга
5. выгрузить и приложить к таску wsdl (если взаимодействие с платформой по http)
6. если в сценариях используются "костыли" в виде селектов из бд для выборки каких либо данных, от них надо избавляться через настройки окат для передачи параметров в заявке
7. в сценариях заменить использование объекта RequestSplitterBySubscribers на RequestCutterBySubscribers
8. в конфиге заменить использование HttpSocket\SoapSocket на GenericSoapSocket
9. переделать команды на CDATA и именованные параметры
т.е. ужас вида
<Request Template="
&lt;env:Envelope xmlns:env=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;
  &lt;env:Header /&gt;
    &lt;env:Body&gt;
    &lt;create xmlns=&quot;http://ws.fmccap.inlinetelecom.ru/&quot;&gt;
      &lt;requestId xmlns=&quot;&quot;&gt;{0}&lt;/requestId&gt;
      &lt;MSISDN xmlns=&quot;&quot;&gt;{1}&lt;/MSISDN&gt;
      &lt;code xmlns=&quot;&quot;&gt;{2}&lt;/code&gt;
    &lt;/create&gt;
  &lt;/env:Body&gt;
&lt;/env:Envelope&gt;">
<Item Name="Req_ID" Type="Parameter"/>
<Item Name="MSISDN" Type="Wellknown"/>
<Item Name="code" Type="LocalComplexParameter"/>
</Request>

переделать в красоту вида:
  <Request>
    <RequestTemplate>
      <![CDATA[<create xmlns="http://ws.fmccap.inlinetelecom.ru/">
<requestId xmlns="">##OriginalID##</requestId>
<MSISDN xmlns="">##msisdn##</MSISDN>
<code xmlns="">##ServiceCode##</code>
</create>]]>
    </RequestTemplate>
    <Item Name="OriginalID" Type="Wellknown"/>
    <Item Name="msisdn" Type="Wellknown"/>
    <Item Name="ServiceCode" Type="LocalParameter"/>
  </Request>


 ====================================================
 
1. Обработчик типа мердж, применяется в том случае, если у абонента могут быть подключены несколько услуг с общим ресурсом, в таком обработчике указывается какое значение ресурса будет результирующим
2. Группа цфс типа мьютекс – группа взаимоисключающих услуг, по ней каталог понимает что в один момент у абонента может быть только одна услуга с общим ресурсом и коллизии не может возникнуть
3. Разный приоритет у cfs имеющих общий ресурс

RFS/@base Название базового RFS общей группы взаимоисключающих RFS
RFS/@parent Название родительского RFS, от которого наследуются ресурсы, RFS параметры и тип обработки RFS

избавиться от коллизий можно 3 способами:
1.	Обработчик типа мердж, применяется в том случае, если у абонента могут быть подключены несколько услуг с общим ресурсом, в таком обработчике указывается какое значение ресурса будет результирующим
2.	Группа цфс типа мьютекс – группа взаимоисключающих услуг, по ней каталог понимает что в один момент у абонента может быть только одна услуга с общим ресурсом и коллизии не может возникнуть
3.	Разный приоритет у cfs имеющих общий ресурс