<Configuration markers="*" scenarioPrefix="SC." mainIdentities="MSISDN,PersonalAccountNumber,ContractNumber" SICreation="" formatVersion="1">
  <HostTypeList />
  <IdentityList>
    <Identity name="ContractNumber" description="Номер контракта" />
    <Identity name="ICCID" description="Номер ICCID" />
    <Identity name="IMSI" description="Номер IMSI" />
    <Identity name="KI" path="//AdditionalData//EncryptedKi" description="Ключ шифрования" />
    <Identity name="MSISDN" description="Номер MSISDN" />
  </IdentityList>
  <AttributeList>
    <Attribute name="A3A8" path="//AdditionalData//VersionsA3A8" description="Алгоритм шифрования" />
    <Attribute name="PersonalAccountNumber" path="//IdentifiersList/Identifier/PersonalAccountNumber" description="Номер ЛС" />
    <Attribute name="TerminalDeviceId" path="//IdentifiersList/Identifier/TerminalDeviceId" description="Идентификатор ПО" />
  </AttributeList>
  <ResourceList>
    <Resource name="RES_SCG_PROFILE" description="Профиль абонента на SCG" />
    <Resource name="RES_SCG_SUBCRIPTION_TYPE" description="Тип подписки абонента на SCG" />
  </ResourceList>
  <RFSParameterList>
    <RFSParameter name="ChangeTP" path="xml(//ChangeTP)" description="Параметры смены тарифного плана" />
    <RFSParameter name="Subscriber" path="xml(//Subscriber)" description="Параметры создания абонента" />
    <RFSParameter name="NewIMSI" description="Новый номер IMSI" />
    <RFSParameter name="NewMSISDN" path="//ChangeMsisdn/NewMSISDN" description="Новый номер MSISDN" />
  </RFSParameterList>
  <FlagList />
  <RFSList>
    <!-- SCG -->
    <RFS name="RFS_SCG_SUBSCRIBER" hostType="SCG" processType="Subscription" description="Абонент на платформе SCG">
      <Resource name="RES_SCG_PROFILE" value="" useType="Mandatory">
        <Value hosts="FP:MS" value="1" />
        <Value hosts="FP:05" value="0" />
      </Resource>
    </RFS>
    <RFS name="RFS_SCG_SUBSCRIPTION_ABSOLUT" hostType="SCG" description="Добавить подписку абонента на SCG для ТП ABSOLUT">
      <Resource name="RES_SCG_SUBCRIPTION_TYPE" value="111" />
    </RFS>
    <RFS name="RFS_SCG_SUBSCRIPTION_OPTIMA" hostType="SCG" description="Добавить подписку абонента на SCG для ТП OPTIMA">
      <Resource name="RES_SCG_SUBCRIPTION_TYPE" value="112" />
    </RFS>
    <RFS name="RFS_SCG_CHANGE_MSISDN" hostType="SCG" description="Изменение номера MSISDN на платформе SCG">
      <Resource name="RES_SCG_PROFILE" value="" useType="Mandatory">
        <Value hosts="FP:MS" value="1" />
        <Value hosts="FP:05" value="0" />
      </Resource>
      <RFSParameter name="NewMSISDN" path="//ChangeMsisdn/NewMSISDN" />
    </RFS>
    <RFS name="RFS_SCG_CHANGE_PLATFORM" hostType="SCG" description="Изменение профайла на SCG">
      <Resource name="RES_SCG_PROFILE" value="" useType="Mandatory">
        <Value condition="//ChangeTP/NewPlatform/HostCode[text()='MS']" value="1" />
        <Value condition="//ChangeTP/NewPlatform/HostCode[text()='05']" value="0" />
      </Resource>
    </RFS>
    <!-- MST -->
    <RFS name="RFS_MST_SUBSCRIPTION" hostType="CT4" processType="Subscription" description="Абонент на платформе MST" />
    <RFS name="RFS_MST_CHANGE_MSISDN" hostType="CT4" description="Изменение номера MSISDN на платформе MST">
      <RFSParameter name="NewMSISDN" path="//ChangeMsisdn/NewMSISDN" />
    </RFS>
    <!-- ALLPLAY -->
    <RFS name="RFS_ALLPLAY_SUBSCRIPTION" hostType="CT6" processType="Subscription" description="Абонент на платформе ALLPLAY" />
    <RFS name="RFS_ALLPLAY_CHANGE_MSISDN" hostType="CT6" description="Изменение номера MSISDN на платформе ALLPLAY">
      <RFSParameter name="NewMSISDN" path="//ChangeMsisdn/NewMSISDN" />
    </RFS>
  </RFSList>
  <CFSList>
    <CFS name="Subscriber" priority="1" type="ManagedObject" description="Абонент" />
    <CFS name="ChangeMsisdn" description="Изменение номера">
      <RFS name="RFS_SCG_CHANGE_MSISDN" linkType="Add" dependsOn="RFS_SCG_SUBSCRIBER" />
      <RFS name="RFS_MST_CHANGE_MSISDN" linkType="Add" dependsOn="RFS_MST_SUBSCRIPTION" />
      <RFS name="RFS_ALLPLAY_CHANGE_MSISDN" linkType="Add" dependsOn="RFS_ALLPLAY_SUBSCRIPTION" />
    </CFS>
    <CFS name="ChangeTP" description="Изменение ТП">
      <RFS name="RFS_SCG_CHANGE_PLATFORM" linkType="Add" dependsOn="RFS_SCG_SUBSCRIBER" />
    </CFS>
    <!-- SCG -->
    <CFS name="CB406278" description="Мобильный интернет">
      <RFS name="RFS_SCG_SUBSCRIBER" linkType="Add" />
    </CFS>
    <CFS name="FRASKUE" description="АИИСКУЭ">
      <RFS name="RFS_SCG_SUBSCRIBER" linkType="Add" />
    </CFS>
    <CFS name="FRAPABSOLUT" description="Абонентская плата за ТП ABSOLUT">
      <RFS name="RFS_SCG_SUBSCRIPTION_ABSOLUT" linkType="Add" />
    </CFS>
    <CFS name="FRAPOPTIMA" description="Абонентская плата за ТП Optima">
      <RFS name="RFS_SCG_SUBSCRIPTION_OPTIMA" linkType="Add" />
    </CFS>
    <!-- MST -->
    <CFS name="FRCLUBUMS" description="FRCLUBUMS">
      <RFS name="RFS_MST_SUBSCRIPTION" linkType="Add" />
    </CFS>
    <!-- ALLPLAY -->
    <CFS name="FRMOBTV" description="FRMOBTV">
      <RFS name="RFS_ALLPLAY_SUBSCRIPTION" linkType="Add" />
    </CFS>
    <CFS name="FRMOBTVTEST" description="FRMOBTVTEST">
      <RFS name="RFS_ALLPLAY_SUBSCRIPTION" linkType="Add" />
    </CFS>
    <CFS name="FRMOBTV1D" description="FRMOBTV1D">
      <RFS name="RFS_ALLPLAY_SUBSCRIPTION" linkType="Add" />
    </CFS>
    <CFS name="FRMOBTV7D" description="FRMOBTV7D">
      <RFS name="RFS_ALLPLAY_SUBSCRIPTION" linkType="Add" />
    </CFS>
  </CFSList>
  <CFSGroupList>
    <CFSGroup name="CFS_GROUP_SCG" type="Mutex" description="Взаимоисключающие услуги для ТП">
      <CFS name="FRAPABSOLUT" />
      <CFS name="FRAPOPTIMA" />
    </CFSGroup>
  </CFSGroupList>
  <RFSGroupList />
  <RFSDependencyList />
  <HandlerList />
  <ScenarioList>
    <!-- SCG -->
    <Scenario name="SCG.CreateSubscriber" description="Создание абонента на SCG">
      <RFS name="RFS_SCG_SUBSCRIBER" scenarioType="Add" />
    </Scenario>
    <Scenario name="SCG.DeleteSubscriber" description="Удаление абонента на SCG">
      <RFS name="RFS_SCG_SUBSCRIBER" scenarioType="Remove" />
    </Scenario>
    <Scenario name="SCG.Add.Subscription" description="Добавить подписку абонента на SCG">
      <RFS name="RFS_SCG_SUBSCRIPTION_ABSOLUT" scenarioType="Add" />
      <RFS name="RFS_SCG_SUBSCRIPTION_OPTIMA" scenarioType="Add" />
    </Scenario>
    <Scenario name="SCG.ChangeMSISDN" description="Изменение номера на SCG">
      <RFS name="RFS_SCG_CHANGE_MSISDN" scenarioType="Add" />
    </Scenario>
    <Scenario name="SCG.ChangePlatform" description="Изменение профайла на SCG">
      <RFS name="RFS_SCG_CHANGE_PLATFORM" scenarioType="Add" />
    </Scenario>
    <!-- MST -->
    <Scenario name="MST.CreateSubscriber" description="Создание абонента на MST">
      <RFS name="RFS_MST_SUBSCRIPTION" scenarioType="Add" />
    </Scenario>
    <Scenario name="MST.DeleteSubscriber" description="Удаление абонента на MST">
      <RFS name="RFS_MST_SUBSCRIPTION" scenarioType="Remove" />
    </Scenario>
    <Scenario name="MST.ChangeMSISDN" description="Изменение номера на MST">
      <RFS name="RFS_MST_CHANGE_MSISDN" scenarioType="Add" />
    </Scenario>
    <!-- ALLPLAY -->
    <Scenario name="ALLPLAY.CreateSubscriber" description="Создание абонента на ALLPLAY">
      <RFS name="RFS_ALLPLAY_SUBSCRIPTION" scenarioType="Add" />
    </Scenario>
    <Scenario name="ALLPLAY.DeleteSubscriber" description="Удаление абонента на ALLPLAY">
      <RFS name="RFS_ALLPLAY_SUBSCRIPTION" scenarioType="Remove" />
    </Scenario>
    <Scenario name="ALLPLAY.ChangeMSISDN" description="Изменение номера на ALLPLAY">
      <RFS name="RFS_ALLPLAY_CHANGE_MSISDN" scenarioType="Add" />
    </Scenario>
  </ScenarioList>
  <WfmScenarioList />
</Configuration>