<Command Name="CounterReinitialization.ServiceRow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <Description>Команда CounterReinitialization для конструктора</Description>
   <Author Name="Zaytsev Aleksandr" Date="2016-10-20" />
   <Request>
      <RequestTemplate>
         <![CDATA[
<TerminalDeviceCounterProfileChange>
   <ServiceCounterProfileChanges>
      <ServiceCounterProfileChange>
         <ChangeDateTime>##ChangeDateTime##</ChangeDateTime>
         <ChargingDateTime>##ChargingDateTime##</ChargingDateTime>
         <CounterProfileId>##CounterProfileId##</CounterProfileId>
         ##CounterTemplateId##
         <CounterValueCalculation>
            ##ReinitType##
            ##SumType##
         </CounterValueCalculation>
         <ServiceCode>##ServiceCode##</ServiceCode>
         <TimeZone>##TimeZone##</TimeZone>
      </ServiceCounterProfileChange>
   </ServiceCounterProfileChanges>
   <TerminalDeviceId>##TerminalDeviceId##</TerminalDeviceId>
</TerminalDeviceCounterProfileChange>]]>
      </RequestTemplate>
      <Item Name="ChangeDateTime" Type="LocalParameter" />
      <Item Name="ChargingDateTime" Type="LocalParameter" />
      <Item Name="CounterProfileId" Type="LocalParameter" />
      <Item Name="CounterTemplateId" Type="LocalParameter" />
      <Item Name="ReinitType" Type="LocalParameter" />
      <Item Name="SumType" Type="LocalParameter" />
      <Item Name="ServiceCode" Type="LocalParameter" />
      <Item Name="TimeZone" Type="LocalParameter" />
      <Item Name="TerminalDeviceId" Type="LocalParameter" />
   </Request>
   <ParametersList>
      <Parameter Name="ChangeDateTime">
         <Source Path="//ChangeDateTime" Template="to_date({0},mm/dd/yyyy hh:cc:ss,dd.mm.yyyy hh:cc:ss)" />
      </Parameter>
      <Parameter Name="ChargingDateTime">
         <Source Path="//ChargingDateTime" Template="to_date({0},mm/dd/yyyy hh:cc:ss,dd.mm.yyyy hh:cc:ss)" />
      </Parameter>
      <Parameter Name="CounterProfileId">
         <Source Path="//ReinitType[text()='Alternate']" AbsenceValue="0" PresenceValue="1" />
      </Parameter>
      <Parameter Name="CounterTemplateId">
         <Source Path="//CounterTemplateId" AbsenceValue="" PostFormat="&lt;CounterTemplateId&gt;{0}&lt;/CounterTemplateId&gt;" />
      </Parameter>
      <Parameter Name="ReinitType">
         <Source Path="//ReinitType[text()='Full']" AbsenceValue="" PostFormat="&lt;ReinitType&gt;Full&lt;/ReinitType&gt;" />
         <Source Path="//ReinitType[text()='Proportional']" AbsenceValue="" PostFormat="&lt;ReinitType&gt;Proportional&lt;/ReinitType&gt;" />
         <Source Path="//ReinitType[text()='Proportional2']" AbsenceValue="" PostFormat="&lt;ReinitType&gt;Proportional2&lt;/ReinitType&gt;" />
      </Parameter>
      <Parameter Name="SumType">
         <Source Path="//SumType" AbsenceValue="" PostFormat="&lt;SumType&gt;{0}&lt;/SumType&gt;" />
      </Parameter>
      <Parameter Name="ServiceCode">
         <Source Path="//ServiceCode" AbsenceValue="" />
      </Parameter>
      <Parameter Name="TimeZone">
         <Source Path="//TimeZone" AbsenceValue="0" />
      </Parameter>
      <Parameter Name="TerminalDeviceId">
         <Source Path="//Identifier/TerminalDeviceId" AbsenceValue="0" />
      </Parameter>
   </ParametersList>
</Command>