<?xml version="1.0" encoding="UTF-8"?>
<Command Name="SC.CounterRow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Description>Change Tariff Plan (counters table)</Description>
  <Author Name="Victor Kosonogov" Date="2017-05-01+01:01"/>
  <Properties GenerationType="MmlXml" />
  <Request>
    <RequestTemplate>
      <![CDATA[<Row 
REQUEST_ID="##ASYNC_REQUEST_ID##" 
TERMINAL_DEVICE_CONTRACT_ID="##TerminalDeviceID##"
COUNTER_ID="##Code##" 
COUNTER_VALUE="##Value##" 
##ExpirationDate## ##ResetDayOfMonth##/>]]>
    </RequestTemplate>
    <EmulationPrintoutTemplate><![CDATA[]]></EmulationPrintoutTemplate>
    <Item Name="TerminalDeviceID" Type="Wellknown"/>
    <Item Name="Code" Type="LocalParameter"/>
    <Item Name="Value" Type="LocalParameter"/>
    <Item Name="ExpirationDate" Type="LocalParameter"/>
    <Item Name="ResetDayOfMonth" Type="LocalParameter"/>
  </Request>
  <ParametersList>
    <Parameter Name="Code">
      <Source Path="//AdditionalData/AddList//Counters/*[1]/Code"/>
    </Parameter>
    <Parameter Name="Value">
      <Source Path="//AdditionalData/AddList//Counters/*[1]/Value"/>
    </Parameter>
    <Parameter Name="ExpirationDate">
      <Source Path="//AdditionalData/AddList//Counters/*[1]/ExpirationDate[string-length(.) > 0]"
      AbsenceValue="" PostFormat="EXPIRATION_EVENT=&quot;{0}&quot;"/>
    </Parameter>
    <Parameter Name="ResetDayOfMonth">
      <Source Path="//AdditionalData/AddList//Counters/*[1]/ResetDayOfMonth[string-length(.) > 0]"
      AbsenceValue="" PostFormat="RESET_DAY_OF_MONTH=&quot;{0}&quot;"/>
    </Parameter>
  </ParametersList>
  <ErrorsList CodePage="ascii"/>
</Command>
