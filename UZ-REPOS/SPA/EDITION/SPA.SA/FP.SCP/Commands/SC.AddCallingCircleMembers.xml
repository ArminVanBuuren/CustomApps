<Command Name="SC.AddCallingCircleMembers" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Description>AddCallingCircleMembers</Description>
  <Author Name="Victor Kosonogov" Date="2017-05-01+01:01" />
  <Properties GenerationType="DataSetXml" />
  <Request>
    <RequestTemplate>
      <![CDATA[<DataSet Name="SCN_CUG_MANAGE_DATA" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Attributes>
    <Attribute Name="Protocol" Type="System.String" Value="Remoting"/>
    <Attribute Name="Procedure" Type="System.String" Value="SCN_CUG_MANAGE_DATA"/>
    <Attribute Name="CLIENT_ID" Type="System.String" Value="[SCP_MARKER]"/>
    <Attribute Name="REQUEST_ID" Type="System.String" Value="reversecut(##org.id##,4)-##uid##"/>
    <Attribute Name="CUG_ID" Type="System.String" Value="ifstringformat_scp(##UserGroupCode##,##CUG_ID##)"/>
    <Attribute Name="ACTION" Type="System.Int32" Value="2"/>
    <Attribute Name="SERVICE_CODE" Type="System.String" Value="##SERVICE_CODE##"/>
    <Attribute Name="TARGET_MSISDN" Type="System.String" Value="+##msisdn##"/>
  </Attributes>
</DataSet>]]>
    </RequestTemplate>
    <EmulationPrintoutTemplate>
      <![CDATA[]]>
    </EmulationPrintoutTemplate>
    <Item Name="org.id" Type="Wellknown" />
    <Item Name="CUG_ID" Type="LocalParameter" />
    <Item Name="SERVICE_CODE" Type="LocalParameter" />
    <Item Name="msisdn" Type="Wellknown" />
    <Item Name="uid" Type="Wellknown" />
    <Item Name="UserGroupCode" Type="LocalParameter" />
  </Request>
  <RollbackRequest>
    <RequestTemplate>
      <![CDATA[<DataSet Name="SCN_CUG_MANAGE_DATA" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Attributes>
    <Attribute Name="Protocol" Type="System.String" Value="Remoting"/>
    <Attribute Name="Procedure" Type="System.String" Value="SCN_CUG_MANAGE_DATA"/>
    <Attribute Name="CLIENT_ID" Type="System.String" Value="[SCP_MARKER]"/>
    <Attribute Name="REQUEST_ID" Type="System.String" Value="reversecut(##org.id##,4)-##uid##"/>
    <Attribute Name="CUG_ID" Type="System.String" Value="ifstringformat_scp(##UserGroupCode##,##CUG_ID##)"/>
    <Attribute Name="ACTION" Type="System.Int32" Value="3"/>
    <Attribute Name="SERVICE_CODE" Type="System.String"/>
    <Attribute Name="TARGET_MSISDN" Type="System.String" Value="+##msisdn##"/>
  </Attributes>
</DataSet>]]>
    </RequestTemplate>
    <EmulationPrintoutTemplate>
      <![CDATA[]]>
    </EmulationPrintoutTemplate>
    <Item Name="org.id" Type="Wellknown" />
    <Item Name="CUG_ID" Type="LocalParameter" />
    <Item Name="msisdn" Type="Wellknown" />
    <Item Name="uid" Type="Wellknown" />
    <Item Name="UserGroupCode" Type="LocalParameter" />
  </RollbackRequest>
  <ParametersList>
    <Parameter Name="CUG_ID" IsChoice="true">
      <Source Path="//AdditionalData/AddList/RFS_FP_SERVICE_CUG/ExternalGroupNumber/Value" />
      <Source Path="//AdditionalData/AddList/RFS_FP_SERVICE_VUG/ExternalGroupNumber/Value" />
    </Parameter>
    <Parameter Name="SERVICE_CODE" IsChoice="true">
      <Source Path="//AdditionalData/AddList/RFS_FP_SERVICE_CUG/ServiceAdditionalDataTypeCode/Value" />
      <Source Path="//AdditionalData/AddList/RFS_FP_SERVICE_VUG/ServiceAdditionalDataTypeCode/Value" />
    </Parameter>
    <Parameter Name="UserGroupCode" IsChoice="true">
      <Source Path="//AdditionalData/AddList/RFS_FP_SERVICE_CUG/UserGroupCode/Value" />
      <Source Path="//AdditionalData/AddList/RFS_FP_SERVICE_VUG/UserGroupCode/Value" />
    </Parameter>
  </ParametersList>
  <ErrorsList CodePage="ascii">
    <Error Name="ResultCode&gt;303&lt;" Value="FAILURE" />
    <Error Name="ResultCode&gt;5003&lt;" Value="UnregisteredCug" />
    <Error Name="RETURN_CODE&gt;0&lt;" Value="SUCCESS" />
  </ErrorsList>
</Command>