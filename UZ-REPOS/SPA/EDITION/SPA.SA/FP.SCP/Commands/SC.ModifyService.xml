<Command Name="SC.ModifyService">
   <Description>ModifyService</Description>
   <Author Name="Victor Kosonogov" Date="2017-05-01+01:01" />
   <Properties GenerationType="DataSetXml" />
   <Request>
      <RequestTemplate>
         <![CDATA[<DataSet Name="UpdateTDCDataSet" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Attributes>
    <Attribute Name="Label" Type="System.String" Value="UpdateTDC;##datetime##;[SCP_MARKER]"/>
    <Attribute Name="Protocol" Type="System.String" Value="Msmq"/>
  </Attributes>
  <DataTable Name="UpdateTDCDataTable">
    <Columns>
      <Column Name="REQUEST_ID" Type="System.String"/>
      <Column Name="TERMINAL_DEVICE_CONTRACT_ID" Type="System.Int64"/>
      <Column Name="PERSONAL_ACCOUNT_ID" Type="System.Int64"/>
      <Column Name="MSISDN" Type="System.String"/>
      <Column Name="CLIENT_ID" Type="System.String"/>
    </Columns>
    <Rows>
      <Row REQUEST_ID="##ASYNC_REQUEST_ID##" TERMINAL_DEVICE_CONTRACT_ID="##TerminalDeviceID##" PERSONAL_ACCOUNT_ID="##PersonalAccount##" MSISDN="##msisdn##" CLIENT_ID="[SCP_MARKER]"/>
    </Rows>
  </DataTable>
  <DataTable Name="ServiceCodeDataTable">
    <Columns>
      <Column Name="SERVICE_ROW_ID" Type="System.Int64"/>
      <Column Name="REQUEST_ID" Type="System.String"/>
      <Column Name="TERMINAL_DEVICE_CONTRACT_ID" Type="System.Int64"/>
      <Column Name="SERVICE_CODE" Type="System.String"/>
      <Column Name="DATE_FROM" Type="System.DateTime"/>
      <Column Name="COUNTER_COEFFICIENT" Type="System.Decimal"/>
      <Column Name="DISCOUNT_TYPE" Type="System.Int32"/>
      <Column Name="DISCOUNT_VALUE" Type="System.Decimal"/>
      <Column Name="SERVICE_ACTION" Type="System.String"/>
    </Columns>
    <Rows>##Services##</Rows>
  </DataTable>
  <DataTable Name="ServiceParameters">
    <Columns>
      <Column Name="SERVICE_ROW_ID" Type="System.Int64"/>
      <Column Name="PARAM_CODE" Type="System.String"/>
      <Column Name="PARAM_VALUE" Type="System.String"/>
      ##NEW_PARAM_COLUMN##
    </Columns>
    <Rows>##ServicesParams##</Rows>
  </DataTable>
</DataSet>]]>
      </RequestTemplate>
      <Item Name="datetime" Type="Wellknown" />
      <Item Name="TerminalDeviceID" Type="Wellknown" />
      <Item Name="PersonalAccount" Type="Wellknown" />
      <Item Name="msisdn" Type="Wellknown" />
      <Item Name="Services" Type="LocalDynamicParameter" />
      <Item Name="ServicesParams" Type="LocalDynamicParameter" />
      <Item Name="NEW_PARAM_COLUMN" Type="LocalParameter" />
   </Request>
   <ParametersList>
      <Parameter Name="NEW_PARAM_COLUMN">
         <Source Path="//AdditionalData/ModifyList/RFS_FP_SERVICE_GENERAL[1]" AbsenceValue="" PostFormat="&lt;Column Name=&quot;NEW_PARAM_VALUE&quot; Type=&quot;System.String&quot;/&gt;" />
      </Parameter>
   </ParametersList>
   <DynamicParametersList>
      <DynamicParameter Name="Services">
         <Source Path="//string" />
         <DynamicObject Name="Services" SkipMissed="True" />
      </DynamicParameter>
      <DynamicParameter Name="ServicesParams">
         <Source Path="//string" />
         <DynamicObject Name="ServicesParams" SkipMissed="True" />
      </DynamicParameter>
   </DynamicParametersList>
   <ErrorsList CodePage="ascii">
      <Error Name="ACTION_RESULT_CODE&gt;-151013&lt;" Value="SUCCESS" />
      <Error Name="ACTION_RESULT_CODE&gt;-151014&lt;" Value="UnregisteredServiceCode" />
   </ErrorsList>
</Command>