<Command Name="SC.CounterReinitialization.ServiceRow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <Description>CounterReinitialization.ServiceRow</Description>
   <Author Name="Victor Kosonogov" Date="2017-05-01+01:01" />
   <Properties GenerationType="MmlXml" />
   <Request>
      <RequestTemplate>
         <![CDATA[<Row 
  SERVICE_CODE="##ServiceCode##" 
  REINIT_TYPE="##CounterValueCalculationType##" 
  TERMINAL_DEVICE_ID="##TerminalDeviceID##" 
  CHARGING_DATE_TIME="func_adjust_utcoffset(##ChargingDateTime##,##TimeZone##)"
  CHANGE_DATE_TIME="func_adjust_utcoffset(##ChangeDateTime##,##TimeZone##)"
  SUM_TYPE="##SumType##"
  ADMIN_LIMIT="##AdminLimit##" />
 ]]>
      </RequestTemplate>
      <Item Name="TerminalDeviceID" Type="Wellknown" />
      <Item Name="ServiceCode" Type="LocalParameter" />
      <Item Name="CounterValueCalculationType" Type="LocalParameter" />
      <Item Name="ChargingDateTime" Type="LocalParameter" />
      <Item Name="ChangeDateTime" Type="LocalParameter" />
      <Item Name="SumType" Type="LocalParameter" />
      <Item Name="TimeZone" Type="LocalParameter" />
      <Item Name="AdminLimit" Type="LocalParameter" />
   </Request>
   <ParametersList>
      <Parameter Name="ServiceCode">
         <Source Path="//AdditionalData/AddList/RFS_FP_COUNTER/Counter/ServiceCode" />
      </Parameter>
      <Parameter Name="CounterValueCalculationType">
         <Source Path="//AdditionalData/AddList/RFS_FP_COUNTER/Counter/ReinitType" />
      </Parameter>
      <Parameter Name="SumType">
         <Source Path="//AdditionalData/AddList/RFS_FP_COUNTER/Counter/SumType" AbsenceValue="0" />
      </Parameter>
      <Parameter Name="TimeZone">
         <Source Path="//AdditionalData/AddList/RFS_FP_COUNTER/Counter/TimeZone" />
      </Parameter>
      <Parameter Name="ChargingDateTime">
         <Source Path="//AdditionalData/AddList/RFS_FP_COUNTER/Counter/ChargingDateTime[../ReinitType/text() = 'Proportional' or ../ReinitType/text() = 'Proportional2']" AbsenceValue="" />
      </Parameter>
      <Parameter Name="ChangeDateTime">
         <Source Path="//AdditionalData/AddList/RFS_FP_COUNTER/Counter/ChangeDateTime" AbsenceValue="" />
      </Parameter>
      <Parameter Name="AdminLimit">
         <Source Path="//AdditionalData/AddList/RFS_FP_COUNTER/Counter/ShareGroupLimitList" SelectMode="OuterXml" AbsenceValue="" />
      </Parameter>
   </ParametersList>
</Command>