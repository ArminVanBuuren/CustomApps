<?xml version="1.0" encoding="utf-8"?>
<Configuration markers="*" scenarioPrefix="SC." mainIdentities="MSISDN,PersonalAccountNumber,ContractNumber" SICreation="" formatVersion="1">
  <HostTypeList>
    <HostType name="HL" nriType="RI" allowTerminalDeviceType="mobile" description="HLR (Home Location Register)" />
  </HostTypeList>
  <IdentityList />
  <AttributeList />
  <ResourceList />
  <RFSParameterList>
    <RFSParameter name="CallForwardingTimer" description="Таймер переадресации" />
    <RFSParameter name="CallForwardMode" description="Режим переадресации" />
    <RFSParameter name="CallForwardType" description="Тип установки переадресаций" />
    <RFSParameter name="ForwardedToNumber" description="Номер переадресации" />
  </RFSParameterList>
  <FlagList />
  <RFSList>
    <RFS name="RFS_HLR_CFB" hostType="HL" description="Call forwarding on mobile subscriber busy" />
    <RFS name="RFS_HLR_CFB_ACT" base="RFS_HLR_CFB" hostType="HL" description="Activate Call forwarding on mobile subscriber busy">
      <RFSParameter name="CallForwardMode">
        <Value condition="(//ProvisionList//CFB)" value="Activate" />
        <Value condition="(//WithdrawalList//CFB)" value="Deactivate" />
      </RFSParameter>
      <RFSParameter name="CallForwardType">
        <Value condition="(//ActionNameOriginal[text()='Update Call Forwarding'])" value="Update" />
      </RFSParameter>
      <RFSParameter name="ForwardedToNumber" path="//CFB/ForwardingToAddress" />
    </RFS>
    <RFS name="RFS_HLR_CFB_PRV" base="RFS_HLR_CFB" hostType="HL" description="Provision Call forwarding on mobile subscriber busy">
      <RFSParameter name="CallForwardType" value="Provision" />
    </RFS>
    <RFS name="RFS_HLR_CFD" hostType="HL" description="Call forwarding (to MCA) on mobile subscriber busy">
      <RFSParameter name="CallForwardMode" value="Activate" />
      <RFSParameter name="CallForwardType" value="Provision" />
      <RFSParameter name="ForwardedToNumber" value="998972690002" />
    </RFS>
    <RFS name="RFS_HLR_CFNRC" hostType="HL" description="Call forwarding on mobile subscriber not reachable" />
    <RFS name="RFS_HLR_CFNRC_ACT" base="RFS_HLR_CFNRC" hostType="HL" description="Activate Call forwarding on mobile subscriber not reachable">
      <RFSParameter name="CallForwardMode">
        <Value condition="(//ProvisionList//CFNRC)" value="Activate" />
        <Value condition="(//WithdrawalList//CFNRC)" value="Deactivate" />
      </RFSParameter>
      <RFSParameter name="CallForwardType">
        <Value condition="(//ActionNameOriginal[text()='Update Call Forwarding'])" value="Update" />
      </RFSParameter>
      <RFSParameter name="ForwardedToNumber" path="//CFNRC/ForwardingToAddress" />
    </RFS>
    <RFS name="RFS_HLR_CFNRC_PRV" base="RFS_HLR_CFNRC" hostType="HL" description="Provision Call forwarding on mobile subscriber not reachable">
      <RFSParameter name="CallForwardType" value="Provision" />
    </RFS>
    <RFS name="RFS_HLR_CFNRY" hostType="HL" description="Call forwarding on no reply" />
    <RFS name="RFS_HLR_CFNRY_ACT" base="RFS_HLR_CFNRY" hostType="HL" description="Activate Call forwarding on no reply">
      <RFSParameter name="CallForwardingTimer" path="//CFNRY/NoReplyTimer" />
      <RFSParameter name="CallForwardMode">
        <Value condition="(//ProvisionList//CFNRY)" value="Activate" />
        <Value condition="(//WithdrawalList//CFNRY)" value="Deactivate" />
      </RFSParameter>
      <RFSParameter name="CallForwardType">
        <Value condition="(//ActionNameOriginal[text()='Update Call Forwarding'])" value="Update" />
      </RFSParameter>
      <RFSParameter name="ForwardedToNumber" path="//CFNRY/ForwardingToAddress" />
    </RFS>
    <RFS name="RFS_HLR_CFNRY_PRV" base="RFS_HLR_CFNRY" hostType="HL" description="Provision Call forwarding on no reply">
      <RFSParameter name="CallForwardType" value="Provision" />
    </RFS>
    <RFS name="RFS_HLR_CFU" hostType="HL" description="Call forwarding unconditional" />
    <RFS name="RFS_HLR_CFU_ACT" base="RFS_HLR_CFU" hostType="HL" description="Activate Call forwarding unconditional">
      <RFSParameter name="CallForwardMode">
        <Value condition="(//ProvisionList//CFU)" value="Activate" />
        <Value condition="(//WithdrawalList//CFU)" value="Deactivate" />
      </RFSParameter>
      <RFSParameter name="CallForwardType">
        <Value condition="(//ActionNameOriginal[text()='Update Call Forwarding'])" value="Update" />
      </RFSParameter>
      <RFSParameter name="ForwardedToNumber" path="//CFU/ForwardingToAddress" />
    </RFS>
    <RFS name="RFS_HLR_CFU_PRV" base="RFS_HLR_CFU" hostType="HL" description="Provision Call forwarding unconditional">
      <RFSParameter name="CallForwardType" value="Provision" />
    </RFS>
  </RFSList>
  <CFSList>
    <CFS name="CallForwarding" description="Активация пользовательской переадресации вызова">
      <RFS name="RFS_HLR_CFB_ACT" linkType="Add" />
      <RFS name="RFS_HLR_CFNRC_ACT" linkType="Add" />
      <RFS name="RFS_HLR_CFNRY_ACT" linkType="Add" />
      <RFS name="RFS_HLR_CFU_ACT" linkType="Add" />
    </CFS>
    <CFS name="CB532" description="Переадресация вызова (периодическая)">
      <RFS name="RFS_HLR_CFB_PRV" linkType="Add" />
      <RFS name="RFS_HLR_CFNRC_PRV" linkType="Add" />
      <RFS name="RFS_HLR_CFNRY_PRV" linkType="Add" />
      <RFS name="RFS_HLR_CFU_PRV" linkType="Add" />
    </CFS>
    <CFS name="CB6311" description="Условная переадресация">
      <RFS name="RFS_HLR_CFB_PRV" linkType="Add" />
      <RFS name="RFS_HLR_CFNRC_PRV" linkType="Add" />
      <RFS name="RFS_HLR_CFNRY_PRV" linkType="Add" />
    </CFS>
    <CFS name="FRMCA" description="Вам звонили / Я на связи">
      <RFS name="RFS_HLR_CFD" linkType="Add" />
    </CFS>
  </CFSList>
  <RFSGroupList />
  <RFSDependencyList />
  <HandlerList />
  <CFSGroupList />
  <RestrictionList>
    <Restriction name="RESTRICTION_ROAMING_LTE" description="Невозможно добавить одновременно LTE и роуминг, т.к. это взаимоисключающие сервисы">
      <RFS name="RFS_HLR_CFD" scenarioType="Add" />
      <RFS name="RFS_HLR_CFU_PRV" scenarioType="Add" />
    </Restriction>
  </RestrictionList>
  <ScenarioList>
    <Scenario name="HLR.Add.CallForwarding" description="Добавление/активация переадресаций">
      <RFS name="RFS_HLR_CFB" scenarioType="Add" />
      <RFS name="RFS_HLR_CFD" scenarioType="Add" />
      <RFS name="RFS_HLR_CFNRC" scenarioType="Add" />
      <RFS name="RFS_HLR_CFNRY" scenarioType="Add" />
      <RFS name="RFS_HLR_CFU" scenarioType="Add" />
    </Scenario>
    <Scenario name="HLR.Remove.CallForwarding" description="Удаление/деактивация переадресаций">
      <RFS name="RFS_HLR_CFB" scenarioType="Remove" />
      <RFS name="RFS_HLR_CFD" scenarioType="Remove" />
      <RFS name="RFS_HLR_CFNRC" scenarioType="Remove" />
      <RFS name="RFS_HLR_CFNRY" scenarioType="Remove" />
      <RFS name="RFS_HLR_CFU" scenarioType="Remove" />
    </Scenario>
  </ScenarioList>
  <WfmScenarioList />
</Configuration>