<?xml version="1.0" encoding="utf-8"?>
<Configuration markers="*" scenarioPrefix="SC." mainIdentities="MSISDN,PersonalAccountNumber,ContractNumber" SICreation="" formatVersion="1">
  <HostTypeList>
    <HostType name="SCG" nriType="RI" allowTerminalDeviceType="mobile" description="SCG онлайн GPRS" />
  </HostTypeList>
  <IdentityList>
    <Identity name="ContractNumber" description="Номер контракта" />
    <Identity name="ICCID" description="Номер ICCID" />
    <Identity name="IMSI" description="Номер IMSI" />
    <Identity name="KI" path="//AdditionalData//EncryptedKi" description="Ключ шифрования" />
    <Identity name="MSISDN" description="Номер MSISDN" />
  </IdentityList>
  <AttributeList>
    <Attribute name="A3A8" path="//AdditionalData//VersionsA3A8" description="Алгоритм шифрования" />
    <Attribute name="PersonalAccountNumber" path="//IdentifiersList/Identifier/PersonalAccountNumber" description="Номер ЛС" />
    <Attribute name="TerminalDeviceId" path="//IdentifiersList/Identifier/TerminalDeviceId" description="Идентификатор ПО" />
  </AttributeList>
  <ResourceList>
    <Resource name="RES_SCG_PROFILE" description="Профиль абонента на SCG" />
  </ResourceList>
  <RFSParameterList>
    <RFSParameter name="ChangeTP" path="xml(//ChangeTP)" description="Параметры смены тарифного плана" />
    <RFSParameter name="Subscriber" path="xml(//Subscriber)" description="Параметры создания абонента" />
    <RFSParameter name="NewIMSI" description="Новый номер IMSI" />
    <RFSParameter name="NewMSISDN" path="//ChangeMsisdn/NewMSISDN" description="Новый номер MSISDN" />
  </RFSParameterList>
  <FlagList />
  <RFSList>
    <RFS name="RFS_SCG_PROFILE" hostType="SCG" description="Профиль абонент на платформе SCG">
      <Resource name="RES_SCG_PROFILE" value="" useType="Mandatory">
        <Value hosts="FP:05" value="0" />
        <Value hosts="FP:MS" value="1" />
      </Resource>
    </RFS>
    <RFS name="RFS_SCG_SERVICE_GENERAL" hostType="SCG" processType="Subscription" description="Основной сервис на SCG" />
    <RFS name="RFS_SCG_SUBSCRIBER" hostType="SCG" processType="Subscription" description="Абонент на платформе SCG" />
    <RFS name="RFS_SCG_CHANGE_MSISDN"  hostType="SCG"  description="Изменение номера MSISDN на платформе SCG">
      <RFSParameter name="NewMSISDN" path="//ChangeMsisdn/NewMSISDN" />
    </RFS>
    <RFS name="RFS_SCG_BREAKSESSION" hostType="SCG" description="Разрыв GPRS сессии на SCG" />
    <RFS name="RFS_SCG_CHANGE_PLATFORM" hostType="SCG" description="Изменение профайла на SCG" />
    <RFS name="RFS_SCG_SUBSCRIPTION"  hostType="SCG" description="Добавить подписку абонента на SCG" />
  </RFSList>
  <CFSList>
    <CFS name="CB406278" isMarker="true" description="Мобильный интернет">
      <RFS name="RFS_SCG_SERVICE_GENERAL" linkType="Add" />
      <RFS name="RFS_SCG_PROFILE" linkType="Info" />
    </CFS>
    <CFS name="FRASKUE" copyOf="CB406278" description="АИИСКУЭ"/>
    
    
    <CFS name="Subscriber" priority="1" type="ManagedObject" description="Абонент" >
      <RFS name="RFS_SCG_SUBSCRIBER" linkType="Add" dependsOn="RFS_SCG_SERVICE_GENERAL" />
      <RFS name="RFS_SCG_PROFILE" linkType="Info" />
    </CFS>
    <CFS name="Synchronize" priority="1" description="Обработка кнопки Синхронизировать в СПА">
      <RFS name="RFS_SCG_SUBSCRIBER" linkType="Add"  dependsOn="RFS_SCG_SERVICE_GENERAL" />
      <RFS name="RFS_SCG_PROFILE" linkType="Info" />
    </CFS>

    <CFS name="ChangeMsisdn" description="Изменение номера">
      <RFS name="RFS_SCG_CHANGE_MSISDN" linkType="Add" dependsOn="RFS_SCG_SERVICE_GENERAL" />
      <RFS name="RFS_SCG_PROFILE" linkType="Info"  />
    </CFS>
    <CFS name="ChangeTP" description="Изменение ТП">
      <RFS name="RFS_SCG_CHANGE_PLATFORM" linkType="Add" dependsOn="RFS_SCG_SERVICE_GENERAL" />
      <RFS name="RFS_SCG_PROFILE" linkType="Info" />
    </CFS>
    
    <CFS name="SCPBREAKSESSION" description="Разрыв GPRS сессии на SCG">
      <RFS name="RFS_SCG_BREAKSESSION" linkType="Add" />
      <RFS name="RFS_SCG_PROFILE" linkType="Info" />
    </CFS>

    <CFS name="FRINSPECT" description="Инспектор">
      <RFS name="RFS_SCG_SUBSCRIPTION" linkType="Add" />
    </CFS>
  </CFSList>
  <CFSGroupList >
  </CFSGroupList>
  <RFSGroupList>
  </RFSGroupList >
  <RFSDependencyList />
  <HandlerList>
  </HandlerList>
  <ScenarioList>
    <Scenario name="SCG.CreateSubscriber" description="Создание абонента на SCG">
      <RFS name="RFS_SCG_SUBSCRIBER" scenarioType="Add" />
      <RFS name="RFS_SCG_SERVICE_GENERAL" scenarioType="Add" />
      <RFS name="RFS_SCG_BREAKSESSION" scenarioType="Remove" />
      <Append name="RFS_SCG_PROFILE" listType="EndList" />
    </Scenario>
    <Scenario name="SCG.DeleteSubscriber" description="Удаление абонента на SCG">
      <RFS name="RFS_SCG_SUBSCRIBER" scenarioType="Remove" />
      <RFS name="RFS_SCG_SERVICE_GENERAL" scenarioType="Remove" />
      <RFS name="RFS_SCG_BREAKSESSION" scenarioType="Add" />
      <Append name="RFS_SCG_PROFILE" listType="EndList" />
    </Scenario>
    <Scenario name="SCG.ChangeMSISDN" description="Изменение номера на SCG">
      <RFS name="RFS_SCG_CHANGE_MSISDN" scenarioType="Add" />
      <Append name="RFS_SCG_PROFILE" listType="EndList" />
    </Scenario>
    <Scenario name="SCG.ChangePlatform" description="Изменение профайла на SCG">
      <RFS name="RFS_SCG_CHANGE_PLATFORM" scenarioType="Add" />
      <Append name="RFS_SCG_PROFILE" listType="EndList" />
    </Scenario>
  </ScenarioList>
  <WfmScenarioList />
</Configuration>